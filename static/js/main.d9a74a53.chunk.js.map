{"version":3,"sources":["App.module.css","components/form/Form.module.css","components/trackers/Trackers.module.css","components/tracker/Tracker.module.css","store/actionTypes/actionTypes.js","store/reducers/treckers.js","store/reducers/index.js","components/form/Form.js","components/tracker/Tracker.js","components/trackers/Trackers.js","App.js","store/action-creators/actions.js","reportWebVitals.js","index.js"],"names":["module","exports","ADD_NEW_TRACKER","REMOVE_TRACKER","initialState","list","JSON","parse","localStorage","getItem","reducer","combineReducers","trackers","state","action","type","actionTypes","id","payload","name","time","newList","filter","item","Form","props","useState","inputValue","setInputValue","className","classes","onSubmit","e","preventDefault","value","placeholder","onChange","target","onClick","add","Date","toLocaleString","s","m","h","uuidv4","Tracker","initialTime","setTime","timerInterval","setTimerInterval","ticking","setTicking","useEffect","updateTime","startTimer","driveTimer","run","setInterval","stopTimer","clearInterval","newS","newM","newH","color","play","style","timerBlock","timer","remove","Trackers","output","length","slice","reverse","map","connect","dispatch","addNewTracker","removeTracker","window","onbeforeunload","setItem","stringify","App","forEach","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","composeEnhancers","compose","getData","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9a74a53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2xxWb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"Form_Form___m_Ua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Trackers\":\"Trackers_Trackers__1GQ6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tracker\":\"Tracker_Tracker__FFlLw\",\"name\":\"Tracker_name__1-DXt\",\"timerBlock\":\"Tracker_timerBlock__14PGS\",\"timer\":\"Tracker_timer__1RBRF\",\"play\":\"Tracker_play__2Nl6J\",\"remove\":\"Tracker_remove__1uFF4\",\"tracker\":\"Tracker_tracker__GDSAv\",\"green\":\"Tracker_green__3SaN6\"};","export const ADD_NEW_TRACKER = '_ADD_NEW_TRACKER';\r\nexport const REMOVE_TRACKER = '_REMOVE_TRACKER';\r\n","import * as actionTypes from '../actionTypes/actionTypes';\r\nconst initialState = {\r\n  list: JSON.parse(localStorage.getItem('trackers')),\r\n};\r\n\r\nexport const trackersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_NEW_TRACKER:\r\n      return {\r\n        ...state,\r\n        list: [\r\n          ...state.list,\r\n          {\r\n            id: action.payload.id,\r\n            name: action.payload.name,\r\n            time: action.payload.time,\r\n          },\r\n        ],\r\n      };\r\n    case actionTypes.REMOVE_TRACKER:\r\n      let newList = [...state.list].filter(\r\n        item => item.id !== action.payload.id\r\n      );\r\n      return {\r\n        ...state,\r\n        list: newList,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {combineReducers} from 'redux';\r\nimport {trackersReducer} from './treckers';\r\n\r\nexport const reducer = combineReducers({\r\n  trackers: trackersReducer,\r\n});\r\n","import React from 'react';\r\nimport classes from './Form.module.css';\r\nimport {useState} from 'react';\r\nimport {v4 as uuidv4} from 'uuid';\r\n\r\nconst Form = props => {\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n  const inputHandler = e => {\r\n    e.preventDefault();\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const clearInput = () => {\r\n    setInputValue('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className={classes.Form} onSubmit={e => e.preventDefault()}>\r\n        <input\r\n          value={inputValue}\r\n          placeholder=\"Enter tracker name\"\r\n          onChange={inputHandler}\r\n        />\r\n        <button\r\n          onClick={() => {\r\n            props.add(\r\n              inputValue ? inputValue : new Date().toLocaleString(),\r\n              {s: 0, m: 0, h: 0},\r\n              uuidv4()\r\n            );\r\n            clearInput();\r\n          }}\r\n        >\r\n          <span className=\"material-icons\">play_circle_filled</span>\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, {useEffect, useState} from 'react';\r\nimport classes from './Tracker.module.css';\r\n\r\nconst Tracker = props => {\r\n  const initialTime = props.time ? props.time : {s: 0, m: 0, h: 0};\r\n\r\n  const [time, setTime] = useState(initialTime);\r\n  const [timerInterval, setTimerInterval] = useState(null);\r\n  const [ticking, setTicking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.updateTime({id: props.id, time: time});\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [time]);\r\n\r\n  useEffect(() => {\r\n    startTimer();\r\n    return () => {};\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const startTimer = () => {\r\n    run();\r\n    setTimerInterval(setInterval(run, 1000));\r\n    setTicking(true);\r\n  };\r\n\r\n  const stopTimer = () => {\r\n    clearInterval(timerInterval);\r\n    setTicking(false);\r\n  };\r\n\r\n  let newS = time.s;\r\n  let newM = time.m;\r\n  let newH = time.h;\r\n\r\n  const run = () => {\r\n    if (newM === 60) {\r\n      newH++;\r\n      newM = 0;\r\n    } else if (newS === 60) {\r\n      newM++;\r\n      newS = 0;\r\n    }\r\n    newS++;\r\n    return setTime({s: newS, m: newM, h: newH});\r\n  };\r\n\r\n  let driveTimer;\r\n  let color = {};\r\n\r\n  if (ticking) {\r\n    driveTimer = (\r\n      <button className={classes.play} onClick={stopTimer}>\r\n        <span className=\"material-icons green\">pause_circle_outline</span>\r\n      </button>\r\n    );\r\n\r\n    color = {color: 'green'};\r\n  } else {\r\n    driveTimer = (\r\n      <button className={classes.play} onClick={startTimer}>\r\n        <span className=\"material-icons\">play_circle_outline</span>\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Tracker} style={color}>\r\n      <div className={classes.name}>{props.name}</div>\r\n      <div className={classes.timerBlock}>\r\n        <span className={classes.timer}>\r\n          {time.h >= 10 ? time.h : '0' + time.h} :{' '}\r\n          {time.m >= 10 ? time.m : '0' + time.m} :{' '}\r\n          {time.s >= 10 ? time.s : '0' + time.s}\r\n        </span>\r\n        {driveTimer}\r\n        <button\r\n          className={classes.remove}\r\n          onClick={() => {\r\n            props.remove(props.id);\r\n            stopTimer();\r\n          }}\r\n        >\r\n          <span className=\"material-icons\">remove_circle_outline</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tracker;\r\n","import React from 'react';\r\nimport classes from './Trackers.module.css';\r\nimport Tracker from '../tracker/Tracker';\r\n\r\nconst Trackers = props => {\r\n  let output;\r\n  if (props.list.length === 0) {\r\n    output = <h2>Start adding trackers!</h2>;\r\n  } else {\r\n    output = props.list\r\n      .slice(0)\r\n      .reverse()\r\n      .map(item => {\r\n        return (\r\n          <Tracker\r\n            key={item.id}\r\n            id={item.id}\r\n            name={item.name}\r\n            time={item.time}\r\n            remove={props.remove}\r\n            updateTime={props.updateTime}\r\n          />\r\n        );\r\n      });\r\n  }\r\n  return <div className={classes.Trackers}>{output}</div>;\r\n};\r\n\r\nexport default Trackers;\r\n","import React, {useEffect} from 'react';\nimport classes from './App.module.css';\nimport {connect} from 'react-redux';\nimport Form from './components/form/Form';\nimport Trackers from './components/trackers/Trackers';\nimport {addNewTracker, removeTracker} from './store/action-creators/actions';\n\nfunction App({add, remove, trackers}) {\n  const updateTime = time => {\n    [...trackers].forEach(item => {\n      if (item.id === time.id) {\n        item.time = time.time;\n      }\n    });\n  };\n  const save = () => {\n    localStorage.setItem('trackers', JSON.stringify([...trackers]));\n  };\n\n  useEffect(() => {\n    window.onbeforeunload = function() {\n      save();\n      return true;\n    };\n\n    return () => {\n      window.onbeforeunload = null;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [trackers]);\n\n  return (\n    <div className={classes.App}>\n      <h1>tracker</h1>\n      <Form add={add} />\n      <Trackers list={trackers} remove={remove} updateTime={updateTime} />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    trackers: state.trackers.list,\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    add: (name, time, id, trackers) =>\n      dispatch(addNewTracker(name, time, id, trackers)),\n    remove: id => dispatch(removeTracker(id)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {ADD_NEW_TRACKER, REMOVE_TRACKER} from '../actionTypes/actionTypes';\r\nexport const addNewTracker = (name, time, id) => {\r\n  return {\r\n    type: ADD_NEW_TRACKER,\r\n    payload: {\r\n      name: name,\r\n      time: time,\r\n      id: id,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeTracker = id => {\r\n  return {\r\n    type: REMOVE_TRACKER,\r\n    payload: {\r\n      id: id,\r\n    },\r\n  };\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport {reducer} from './store/reducers/index';\nimport thunk from 'redux-thunk';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst composeEnhancers =\n  process.env.NODE_ENV === 'development'\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : null || compose;\n\nconst getData = JSON.parse(localStorage.getItem('trackers'));\n\nconst initialState = getData\n  ? {trackers: {list: getData}}\n  : {trackers: {list: []}};\n\nconst store = createStore(\n  reducer,\n  initialState,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(\n  <React.StrictMode>{app}</React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}